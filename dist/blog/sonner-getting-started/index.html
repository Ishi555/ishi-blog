<!DOCTYPE html><html lang="en-US"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1.0, viewport-fit=cover"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="sitemap" href="/sitemap-index.xml"><meta name="generator" content="Astro v5.5.3"><!-- Primary Meta Tags --><title>Building a toast component | blog</title><meta name="title" content="Building a toast component | blog"><meta name="description" content="Earlier this year, I built a Toast library for React called Sonner. In this article, I'll show you some of the lessons I've learned and mistakes I made while building it."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://ishi555.github.io/ishi-blog/blog/sonner-getting-started/"><meta property="og:title" content="Building a toast component | blog"><meta property="og:description" content="Earlier this year, I built a Toast library for React called Sonner. In this article, I'll show you some of the lessons I've learned and mistakes I made while building it."><meta property="og:image" content="https://ishi555.github.io/og_image.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://ishi555.github.io/ishi-blog/blog/sonner-getting-started/"><meta property="twitter:title" content="Building a toast component | blog"><meta property="twitter:description" content="Earlier this year, I built a Toast library for React called Sonner. In this article, I'll show you some of the lessons I've learned and mistakes I made while building it."><meta property="twitter:image" content="https://ishi555.github.io/og_image.png"><link rel="alternate" type="application/rss+xml" title="Building a toast component | blog" href="https://ishi555.github.io/rss.xml"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Building a toast component | blog","description":"Earlier this year, I built a Toast library for React called Sonner. In this article, I'll show you some of the lessons I've learned and mistakes I made while building it.","image":"https://ishi555.github.io/og_image.png","datePublished":"2023-09-05T00:00:00.000Z","dateModified":"2025-03-20T06:41:08.000Z","author":{"@type":"Person","name":"slate"}}</script><script>
  function getThemeMode() {
    const theme = localStorage.getItem('theme');
    if (theme && (theme === 'light' || theme === 'dark')) return theme;

    const presetTheme = theme === 'auto' ? theme : 'auto';
    if (presetTheme === 'auto')
      return window.matchMedia('(prefers-color-scheme: dark)').matches
        ? 'dark'
        : 'light';

    return presetTheme;
  }
  const mode = getThemeMode();
  document.documentElement.className = mode;
  document.documentElement.dataset.theme = mode;
</script><style>/*! tailwindcss v4.0.14 | MIT License | https://tailwindcss.com */.sb-button{min-width:calc(var(--spacing,.25rem)*16);cursor:pointer;touch-action:manipulation;background-color:var(--color-slate3,var(--slate-3));padding-inline:calc(var(--spacing,.25rem)*4);padding-block:calc(var(--spacing,.25rem)*2);font-size:var(--text-base,1rem);line-height:var(--tw-leading,var(--text-base--line-height, 1.5 ));color:var(--color-slate11,var(--slate-11));transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function,cubic-bezier(.4,0,.2,1)));transition-duration:var(--tw-duration,var(--default-transition-duration,.15s));--tw-duration:.2s;--tw-ease:var(--ease-in-out,cubic-bezier(.4,0,.2,1));transition-duration:.2s;transition-timing-function:var(--ease-in-out,cubic-bezier(.4,0,.2,1));-webkit-user-select:none;user-select:none;border-radius:3.40282e38px}@media (hover:hover){.sb-button:hover{background-color:var(--color-slate4,var(--slate-4));color:var(--color-slate12,var(--slate-12))}}.sb-button:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.sb-button-default{background-color:var(--color-slate3,var(--slate-3))}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}
</style>
<link rel="stylesheet" href="/ishi-blog/assets/_slug_.Ddj2NkHd.css">
<link rel="stylesheet" href="/ishi-blog/assets/_slug_.CxIkkaao.css"></head> <body class="bg-slate1"> <div class="m-auto flex min-h-dvh max-w-180 flex-col px-6 pb-6 pt-18"> <div class="mb-16"> <button id="back" class="sb-button inline-block sb-button-default">←</button> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="2gr6rO" component-url="/ishi-blog/assets/code-group-event.Co-xoxG8.js" component-export="default" renderer-url="/ishi-blog/assets/client.Cp5HnyLb.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;CodeGroupEvent&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> <script>(()=>{var l=(n,t)=>{let i=async()=>{await(await n())()},e=typeof t.value=="object"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();</script><astro-island uid="2dkdf6" prefix="r1" component-url="/ishi-blog/assets/affix-title.DZEUZ7He.js" component-export="default" renderer-url="/ishi-blog/assets/client.Cp5HnyLb.js" props="{&quot;title&quot;:[0,&quot;Building a toast component&quot;],&quot;offsetTop&quot;:[0,100]}" ssr client="idle" opts="{&quot;name&quot;:&quot;AffixTitle&quot;,&quot;value&quot;:true}" await-children><div class="fixed left-0 right-0 top-0 w-full transform bg-slate1/90 backdrop-blur-md transition-all duration-300 ease-in-out z-10 -translate-y-full opacity-0"><div class="mx-auto flex items-center justify-between px-4 max-w-180"><button class="text-slate11 hover:text-slate12 transition-colors w-8 cursor-pointer active:scale-95 rounded-full h-6 flex items-center justify-center hover:bg-slate12/5">←</button><div class="py-4 font-bold">Building a toast component</div><div class="w-4"></div></div></div><!--astro:end--></astro-island>  <div class="blog-content"> <div class="mb-16"> <h1>Building a toast component</h1> <div class="text-slate10 flex items-center gap-2"> <span>Sep 05, 2023</span> <span>·</span> <div> 4 Min Read </div> </div> </div> <p>Earlier this year, I built a Toast library for React called <a href="https://sonner.emilkowal.ski/">Sonner</a>. In this article, I’ll show you some of the lessons I’ve learned and mistakes I made while building it.</p>
<h2 id="animations">Animations</h2>
<p>Initially, I used CSS keyframes for enter and exit animations, but they aren’t interruptible. A CSS transition can be interrupted and smoothly transition to a new value, even before the first transition has finished. You can see the difference below.</p>
<p>To transition the toast when it enters the screen, essentially to mimic the enter animation, we used <code>useEffect</code> to set the mounted state to true after the first render. This way, the toast is rendered with transform: <code>translateY(100%)</code> and then transitions to <code>transform: translateY(0)</code>. The style is based on a data attribute.</p>
<div class="expressive-code"><link rel="stylesheet" href="/ishi-blog/assets/ec.0niu6.css"><script type="module" src="/ishi-blog/assets/ec.8zarh.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">React.</span><span style="--0:#B392F0;--1:#6F42C1">useEffect</span><span style="--0:#E1E4E8;--1:#24292E">(() </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> {  </span><span style="--0:#B392F0;--1:#6F42C1">setMounted</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#79B8FF;--1:#005CC5">true</span><span style="--0:#E1E4E8;--1:#24292E">);}, []);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">//...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">&#x3C;</span><span style="--0:#85E89D;--1:#1E7734">li</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">data-mounted</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E">{mounted}></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="React.useEffect(() => {  setMounted(true);}, []);//...<li data-mounted={mounted}>"><div></div></button></div></figure></div>
<h2 id="stacking-toasts">Stacking toasts</h2>
<p>To create the stacking effect, we multiply the gap between toasts by the index of the toast to get the y position. It’s worth noting that every toast has <code>position: absolute</code> to make stacking easier. We also scale them down by 0.05 * index to create the illusion of depth. Here’s the simplified CSS for it:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">[data</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E">sonner</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E">toast][data</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E">expanded</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#9ECBFF;--1:#032F62">"false"</span><span style="--0:#E1E4E8;--1:#24292E">][data</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E">front</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#9ECBFF;--1:#032F62">"false"</span><span style="--0:#E1E4E8;--1:#24292E">] {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">--</span><span style="--0:#B392F0;--1:#6F42C1">scale</span><span style="--0:#E1E4E8;--1:#24292E">: </span><span style="--0:#F97583;--1:#BF3441">var</span><span style="--0:#E1E4E8;--1:#24292E">(--toasts-before) * 0.05 + 1;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">--</span><span style="--0:#B392F0;--1:#6F42C1">y</span><span style="--0:#E1E4E8;--1:#24292E">: </span><span style="--0:#B392F0;--1:#6F42C1">translateY</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#B392F0;--1:#6F42C1">calc</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#B392F0;--1:#6F42C1">var</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#F97583;--1:#BF3441">--</span><span style="--0:#E1E4E8;--1:#24292E">lift</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E">amount) </span><span style="--0:#F97583;--1:#BF3441">*</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">var</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#F97583;--1:#BF3441">--</span><span style="--0:#E1E4E8;--1:#24292E">toasts</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E">before))) </span><span style="--0:#B392F0;--1:#6F42C1">scale</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#B392F0;--1:#6F42C1">calc</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#79B8FF;--1:#005CC5">1</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">*</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">var</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#F97583;--1:#BF3441">--</span><span style="--0:#E1E4E8;--1:#24292E">scale))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[data-sonner-toast][data-expanded=&#x22;false&#x22;][data-front=&#x22;false&#x22;] {  --scale: var(--toasts-before) * 0.05 + 1;  --y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale))    );}"><div></div></button></div></figure></div>
<p>This works great until you have toasts with different heights, they won’t stick out evenly. We fix it by simply making all the toasts the height of the toast in front when in stacked mode. Here’s how the toasts would look with different heights:</p>
<p>Add toast</p>
<h2 id="swiping">Swiping</h2>
<p>The toasts can be swiped down to dismiss. That’s just a simple event listener on the toast which updates a variable responsible for the <code>translateY</code> value.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">// This is a simplified version of the code</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">onMove</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> (</span><span style="--0:#FFAB70;--1:#AE4B07">event</span><span style="--0:#E1E4E8;--1:#24292E">) </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">yPosition</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> event.clientY </span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E"> pointerStartRef.current.y;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">toastRef.current?.style.</span><span style="--0:#B392F0;--1:#6F42C1">setProperty</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">"--swipe-amount"</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#9ECBFF;--1:#032F62">`${</span><span style="--0:#E1E4E8;--1:#24292E">yPosition</span><span style="--0:#9ECBFF;--1:#032F62">}px`</span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// This is a simplified version of the codeconst onMove = (event) => {  const yPosition = event.clientY - pointerStartRef.current.y;  toastRef.current?.style.setProperty(&#x22;--swipe-amount&#x22;, &#x60;${yPosition}px&#x60;);};"><div></div></button></div></figure></div>
<p>The swipe is momentum-based, meaning you don’t have to swipe until a specific threshold is met to remove the toast. If the swipe movement is fast enough, the toast will still be dismissed because the velocity is high enough.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">timeTaken</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">new</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">Date</span><span style="--0:#E1E4E8;--1:#24292E">().</span><span style="--0:#B392F0;--1:#6F42C1">getTime</span><span style="--0:#E1E4E8;--1:#24292E">() </span><span style="--0:#F97583;--1:#BF3441">-</span><span style="--0:#E1E4E8;--1:#24292E"> dragStartTime.current.</span><span style="--0:#B392F0;--1:#6F42C1">getTime</span><span style="--0:#E1E4E8;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">velocity</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> Math.</span><span style="--0:#B392F0;--1:#6F42C1">abs</span><span style="--0:#E1E4E8;--1:#24292E">(swipeAmount) </span><span style="--0:#F97583;--1:#BF3441">/</span><span style="--0:#E1E4E8;--1:#24292E"> timeTaken;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">// Remove if the threshold is met or velocity is high enough</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">if</span><span style="--0:#E1E4E8;--1:#24292E"> (Math.</span><span style="--0:#B392F0;--1:#6F42C1">abs</span><span style="--0:#E1E4E8;--1:#24292E">(swipeAmount) </span><span style="--0:#F97583;--1:#BF3441">>=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">SWIPE_THRESHOLD</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">||</span><span style="--0:#E1E4E8;--1:#24292E"> velocity </span><span style="--0:#F97583;--1:#BF3441">></span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">0.11</span><span style="--0:#E1E4E8;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#B392F0;--1:#6F42C1">deleteToast</span><span style="--0:#E1E4E8;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="const timeTaken = new Date().getTime() - dragStartTime.current.getTime();const velocity = Math.abs(swipeAmount) / timeTaken;// Remove if the threshold is met or velocity is high enoughif (Math.abs(swipeAmount) >= SWIPE_THRESHOLD || velocity > 0.11) {  deleteToast();}"><div></div></button></div></figure></div>
<h2 id="spatial-consistency">Spatial consistency</h2>
<p>Initially, the toast was entering from the bottom, and you could swipe it to the right, as shown in <a href="https://twitter.com/emilkowalski_/status/1503372086038962178">this tweet</a>. However, that didn’t feel natural since the toast didn’t follow a symmetric path. If something enters from the bottom, it should also exit in the same direction. I learned this principle from the <a href="https://developer.apple.com/videos/play/wwdc2018/803/">Designing Fluid Interfaces</a> talk from Apple. It’s amazing and I highly recommend watching it.</p>
<p>If you are interested in this type of stuff, then you might enjoy my course on animations, where I cover this and much more — <a href="https://animations.dev/">animations.dev</a>.</p>
<h2 id="expanding-toasts">Expanding toasts</h2>
<p>We calculate the expanded position of each toast by adding the heights of all preceding toasts and the gap between them. This value will become the new <code>translateY</code> when the user hovers over the toast area.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">toastsHeightBefore</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> React.</span><span style="--0:#B392F0;--1:#6F42C1">useMemo</span><span style="--0:#E1E4E8;--1:#24292E">(() </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">return</span><span style="--0:#E1E4E8;--1:#24292E"> heights.</span><span style="--0:#B392F0;--1:#6F42C1">reduce</span><span style="--0:#E1E4E8;--1:#24292E">((</span><span style="--0:#FFAB70;--1:#AE4B07">prev</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#FFAB70;--1:#AE4B07">curr</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#FFAB70;--1:#AE4B07">reducerIndex</span><span style="--0:#E1E4E8;--1:#24292E">) </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">// Calculate offset up until current toast</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">if</span><span style="--0:#E1E4E8;--1:#24292E"> (reducerIndex </span><span style="--0:#F97583;--1:#BF3441">>=</span><span style="--0:#E1E4E8;--1:#24292E"> heightIndex) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#F97583;--1:#BF3441">return</span><span style="--0:#E1E4E8;--1:#24292E"> prev;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#F97583;--1:#BF3441">return</span><span style="--0:#E1E4E8;--1:#24292E"> prev </span><span style="--0:#F97583;--1:#BF3441">+</span><span style="--0:#E1E4E8;--1:#24292E"> curr.height;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}, </span><span style="--0:#79B8FF;--1:#005CC5">0</span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}, [heights, heightIndex]);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">// ...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">offset</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> React.</span><span style="--0:#B392F0;--1:#6F42C1">useMemo</span><span style="--0:#E1E4E8;--1:#24292E">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">() </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> heightIndex </span><span style="--0:#F97583;--1:#BF3441">*</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">GAP</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">+</span><span style="--0:#E1E4E8;--1:#24292E"> toastsHeightBefore,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">[heightIndex, toastsHeightBefore]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="const toastsHeightBefore = React.useMemo(() => {  return heights.reduce((prev, curr, reducerIndex) => {    // Calculate offset up until current toast    if (reducerIndex >= heightIndex) {      return prev;      }      return prev + curr.height;    }, 0);  }, [heights, heightIndex]);// ...const offset = React.useMemo(  () => heightIndex * GAP + toastsHeightBefore,  [heightIndex, toastsHeightBefore]);"><div></div></button></div></figure></div>
<h2 id="state-management">State management</h2>
<p>To avoid using <a href="https://react.dev/reference/react/createContext">context</a>, we manage the state via the <a href="https://javascriptpatterns.vercel.app/patterns/design-patterns/observer-pattern">Observer Pattern</a>. We subscribe to the observable object in the <code>&#x3C;Toaster /></code> component. Whenever the <code>toast()</code> function is called, the <code>&#x3C;Toaster /></code> component (as the subscriber) is notified and updates its state. We can then render all the toasts using <code>Array.map()</code>.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">function</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">Toaster</span><span style="--0:#E1E4E8;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">React.</span><span style="--0:#B392F0;--1:#6F42C1">useEffect</span><span style="--0:#E1E4E8;--1:#24292E">(() </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">return</span><span style="--0:#E1E4E8;--1:#24292E"> ToastState.</span><span style="--0:#B392F0;--1:#6F42C1">subscribe</span><span style="--0:#E1E4E8;--1:#24292E">((</span><span style="--0:#FFAB70;--1:#AE4B07">toast</span><span style="--0:#E1E4E8;--1:#24292E">) </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#B392F0;--1:#6F42C1">setToasts</span><span style="--0:#E1E4E8;--1:#24292E">((</span><span style="--0:#FFAB70;--1:#AE4B07">toasts</span><span style="--0:#E1E4E8;--1:#24292E">) </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> [</span><span style="--0:#F97583;--1:#BF3441">...</span><span style="--0:#E1E4E8;--1:#24292E">toasts, toast]);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">});</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}, []);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#99A0A6;--1:#616972">// ...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">return</span><span style="--0:#E1E4E8;--1:#24292E"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">&#x3C;</span><span style="--0:#85E89D;--1:#1E7734">ol</span><span style="--0:#E1E4E8;--1:#24292E">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{toasts.</span><span style="--0:#B392F0;--1:#6F42C1">map</span><span style="--0:#E1E4E8;--1:#24292E">((</span><span style="--0:#FFAB70;--1:#AE4B07">toast</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#FFAB70;--1:#AE4B07">index</span><span style="--0:#E1E4E8;--1:#24292E">) </span><span style="--0:#F97583;--1:#BF3441">=></span><span style="--0:#E1E4E8;--1:#24292E"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">&#x3C;</span><span style="--0:#79B8FF;--1:#005CC5">Toast</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">key</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E">{toast.id} </span><span style="--0:#B392F0;--1:#6F42C1">toast</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E">{toast} /></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">))}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">&#x3C;/</span><span style="--0:#85E89D;--1:#1E7734">ol</span><span style="--0:#E1E4E8;--1:#24292E">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="function Toaster() {  React.useEffect(() => {    return ToastState.subscribe((toast) => {      setToasts((toasts) => [...toasts, toast]);    });  }, []);  // ...  return (    <ol>      {toasts.map((toast, index) => (        <Toast key={toast.id} toast={toast} />      ))}    </ol>  );}"><div></div></button></div></figure></div>
<p>To create a new toast, we simply import <code>toast</code> and call it. There’s no need for hooks or context, just a straightforward function call.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">import</span><span style="--0:#E1E4E8;--1:#24292E"> { toast } </span><span style="--0:#F97583;--1:#BF3441">from</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">"sonner"</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">// ...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0;--1:#6F42C1">toast</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">"My toast"</span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { toast } from &#x22;sonner&#x22;;// ...toast(&#x22;My toast&#x22;);"><div></div></button></div></figure></div>
<h2 id="hover-state">Hover state</h2>
<p>The hover state depends on whether we are hovering over one of the toasts. However, there are also gaps between the toasts. To address this, we add an <code>:after</code> pseudo-element to fill in these gaps, ensuring a consistent hover state. You will see these filled gaps depicted below.</p>
<p>Add toast</p>
<h2 id="pointer-capture">Pointer capture</h2>
<p>Once we start dragging, we set the toast to capture all future pointer events. This ensures that even if the mouse or our thumb moves outside the toast while dragging, the toast remains the target of the pointer events. As a result, dragging remains possible, even if we are outside of the toast, leading to a better user experience.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#F97583;--1:#BF3441">function</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">onPointerDown</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#FFAB70;--1:#AE4B07">event</span><span style="--0:#E1E4E8;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">event.target.</span><span style="--0:#B392F0;--1:#6F42C1">setPointerCapture</span><span style="--0:#E1E4E8;--1:#24292E">(event.pointerId);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="function onPointerDown(event) {  event.target.setPointerCapture(event.pointerId);}"><div></div></button></div></figure></div>
<div class="block-default info"><p>
From <a href="https://emilkowal.ski/ui/building-a-toast-component">Building a toast component</a></p></div> <div class="text-slate8"> Last edited Mar 20 </div> </div>   <script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><astro-island uid="edy87" prefix="r2" component-url="/ishi-blog/assets/toc.BHKvF6v0.js" component-export="default" renderer-url="/ishi-blog/assets/client.Cp5HnyLb.js" props="{&quot;className&quot;:[0,&quot;fixed top-0 right-0 bottom-0 hidden w-64 xl:block&quot;],&quot;listClassName&quot;:[0,&quot;px-5 pt-44 pb-14 &quot;],&quot;dataSource&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;animations&quot;],&quot;text&quot;:[0,&quot;Animations&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;stacking-toasts&quot;],&quot;text&quot;:[0,&quot;Stacking toasts&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;swiping&quot;],&quot;text&quot;:[0,&quot;Swiping&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;spatial-consistency&quot;],&quot;text&quot;:[0,&quot;Spatial consistency&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;expanding-toasts&quot;],&quot;text&quot;:[0,&quot;Expanding toasts&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;state-management&quot;],&quot;text&quot;:[0,&quot;State management&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;hover-state&quot;],&quot;text&quot;:[0,&quot;Hover state&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;pointer-capture&quot;],&quot;text&quot;:[0,&quot;Pointer capture&quot;]}]]]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Toc&quot;,&quot;value&quot;:true}" await-children><div class="fixed top-0 right-0 bottom-0 hidden w-64 xl:block"><nav class="h-full w-full overflow-scroll"><ul class="text-slate8 px-5 pt-44 pb-14 "><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#animations">Animations</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#stacking-toasts">Stacking toasts</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#swiping">Swiping</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#spatial-consistency">Spatial consistency</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#expanding-toasts">Expanding toasts</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#state-management">State management</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#hover-state">Hover state</a></li><li><a class="inline-block cursor-pointer py-0.5 transition-colors hover:text-slate12" style="margin-left:0px" href="#pointer-capture">Pointer capture</a></li></ul></nav></div><!--astro:end--></astro-island>    <footer class="mt-auto"> <astro-island uid="8hhOm" prefix="r0" component-url="/ishi-blog/assets/social-links.QgZhLbPn.js" component-export="default" renderer-url="/ishi-blog/assets/client.Cp5HnyLb.js" props="{}" ssr client="visible" opts="{&quot;name&quot;:&quot;SocialLinks&quot;,&quot;value&quot;:true}" await-children><section class="flex items-center gap-6 flex-wrap"><a class="h-5 w-5 cursor-pointer text-slate10 hover:text-slate12 transition-all" href="https://github.com/SlateDesign/slate-blog" target="_blank" rel="noopener"><span class="sb-social-icon github"></span></a></section><!--astro:end--></astro-island> <div class="mt-4 flex items-center justify-between"> <div class="text-slate8 text-sm">© 2025 blog Design</div>  <astro-island uid="Z15eAqo" prefix="r3" component-url="/ishi-blog/assets/theme-select.CO5AGG_n.js" component-export="default" renderer-url="/ishi-blog/assets/client.Cp5HnyLb.js" props="{}" ssr client="visible" opts="{&quot;name&quot;:&quot;ThemeSelect&quot;,&quot;value&quot;:true}" await-children><div class="bg-slate3 text-slate8 relative flex items-center rounded-full p-0.5" role="radiogroup"><div class="bg-slate1 transition-left absolute top-0.5 h-7 w-7 rounded-full left-0.5"></div><div class="relative inline-flex h-7 w-7 cursor-pointer items-center justify-center transition-colors text-slate10 hover:text-slate11" tabindex="0" role="radio" aria-label="auto" aria-checked="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4"><path d="M7.57181 21C8.90661 20.3598 10.41 20 12 20C13.59 20 15.0934 20.3598 16.4282 21M6.8 17H17.2C18.8802 17 19.7202 17 20.362 16.673C20.9265 16.3854 21.3854 15.9265 21.673 15.362C22 14.7202 22 13.8802 22 12.2V7.8C22 6.11984 22 5.27976 21.673 4.63803C21.3854 4.07354 20.9265 3.6146 20.362 3.32698C19.7202 3 18.8802 3 17.2 3H6.8C5.11984 3 4.27976 3 3.63803 3.32698C3.07354 3.6146 2.6146 4.07354 2.32698 4.63803C2 5.27976 2 6.11984 2 7.8V12.2C2 13.8802 2 14.7202 2.32698 15.362C2.6146 15.9265 3.07354 16.3854 3.63803 16.673C4.27976 17 5.11984 17 6.8 17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="relative inline-flex h-7 w-7 cursor-pointer items-center justify-center transition-colors text-slate10 hover:text-slate11" tabindex="0" role="radio" aria-label="light" aria-checked="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4"><path d="M12 2V4M12 20V22M4 12H2M6.31412 6.31412L4.8999 4.8999M17.6859 6.31412L19.1001 4.8999M6.31412 17.69L4.8999 19.1042M17.6859 17.69L19.1001 19.1042M22 12H20M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="relative inline-flex h-7 w-7 cursor-pointer items-center justify-center transition-colors text-slate10 hover:text-slate11" tabindex="0" role="radio" aria-label="dark" aria-checked="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4"><path d="M22 15.8442C20.6866 16.4382 19.2286 16.7688 17.6935 16.7688C11.9153 16.7688 7.23116 12.0847 7.23116 6.30654C7.23116 4.77135 7.5618 3.3134 8.15577 2C4.52576 3.64163 2 7.2947 2 11.5377C2 17.3159 6.68414 22 12.4623 22C16.7053 22 20.3584 19.4742 22 15.8442Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div><!--astro:end--></astro-island>  </div> </footer>  </div> </body></html> <script src="//unpkg.com/heti/umd/heti-addon.min.js"></script> <script type="module">const e=document.getElementById("back");e?.addEventListener("click",()=>{window.location.href="/"});</script>